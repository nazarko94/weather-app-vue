(function(){var t={5199:function(t,e,i){"use strict";var s=i(144),a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[t.isLoading?e("div",{staticClass:"loading"},[e("span")]):e("div",{staticClass:"app"},[t.modalOpen?e("Modal",{attrs:{APIkey:t.APIkey,cities:t.cities},on:{"close-modal":t.toggleModal}}):t._e(),e("Navigation",{attrs:{addCityActive:t.addCityActive,isDay:t.isDay,isNight:t.isNight},on:{"add-city":t.toggleModal,"edit-city":t.toggleEdit}}),e("router-view",{attrs:{isDay:t.isDay,isNight:t.isNight,cities:t.cities,edit:t.edit,APIkey:t.APIkey},on:{"is-day":t.dayTime,"is-night":t.nightTime,resetDays:t.resetDays,"add-city":t.toggleModal}})],1)])},r=[],n=(i(7658),i(6154)),c=i(5503);i(6170);const o={apiKey:"AIzaSyCQCoJHlNvsYhVJ_HDUyNRIARIH_V9pHfI",authDomain:"weatherappvue-b8f97.firebaseapp.com",projectId:"weatherappvue-b8f97",storageBucket:"weatherappvue-b8f97.appspot.com",messagingSenderId:"920445682871",appId:"1:920445682871:web:901aca617ea79d671ab932"},d=c.Z.initializeApp(o);var l=d.firestore(),u=function(){var t=this,e=t._self._c;return e("div",[t.addCityActive?e("header",{staticClass:"container add-city"},[e("nav",[e("span",[t._v("Add City:")]),e("div",{staticClass:"right"},[e("i",{ref:"editCities",staticClass:"far fa-edit",on:{click:t.editCities}}),e("i",{staticClass:"fas fa-sync",on:{click:t.reloadApp}}),e("i",{staticClass:"fas fa-plus",on:{click:t.addCity}})])])]):e("header",{staticClass:"container",class:{day:t.isDay,night:t.isNight}},[e("nav",[e("router-link",{staticClass:"router-link",attrs:{to:{name:"AddCity"}}},[e("i",{staticClass:"fas fa-plus"})]),e("span",[t._v(t._s((new Date).toLocaleString("en-us",{weekday:"short"}))+", "+t._s((new Date).toLocaleString("en-us",{month:"short"}))+" "+t._s((new Date).toLocaleString("en-us",{day:"2-digit"})))]),e("span",[t._v("° C")])],1)])])},h=[],p={name:"Navigation",props:["addCityActive","isDay","isNight"],methods:{addCity(){this.$emit("add-city")},reloadApp(){location.reload()},editCities(){this.$refs.editCities.classList.toggle("edit-active"),this.$emit("edit-city")}}},v=p,f=i(1001),g=(0,f.Z)(v,u,h,!1,null,null,null),y=g.exports,m=function(){var t=this,e=t._self._c;return e("div",{ref:"modal",staticClass:"modal",on:{click:t.closeModal}},[e("div",{ref:"modalWrap",staticClass:"modal-wrap"},[e("label",{attrs:{for:"city-name"}},[t._v("Enter Location:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],attrs:{type:"text",name:"city-name",placeholder:"Search By City Name"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}}),e("button",{on:{click:t.addCity}},[t._v("Add")])])])},C=[],_={name:"modal",props:["APIkey","cities"],components:{},data(){return{city:""}},methods:{closeModal(t){t.target===this.$refs.modal&&this.$emit("close-modal")},async addCity(){if(""===this.city)alert("field cannot be empty");else if(this.cities.length>4)alert("City list is full!");else if(this.cities.some((t=>t.city===this.city.toLowerCase())))alert(`${this.city} already exists!`);else try{const t=await n.Z.get(`https://api.openweathermap.org/data/2.5/weather?q=${this.city}&units=metric&APPID=${this.APIkey}`),e=await t.data;l.collection("cities").doc().set({city:this.city.toLowerCase(),currentWeather:e}).then((()=>{this.$emit("close-modal")}))}catch{alert(`${this.city} does not exist, please try again!`)}}}},w=_,W=(0,f.Z)(w,m,C,!1,null,"630ef9c7",null),b=W.exports,k={name:"App",components:{Navigation:y,Modal:b},data(){return{isDay:null,isNight:null,APIkey:"51cdf613bf797b0a4829e124cef47faa",cities:[],modalOpen:null,edit:null,addCityActive:null,isLoading:!0}},created(){this.getCityWeather(),this.checkRoute()},methods:{getCityWeather(){let t=l.collection("cities");t.onSnapshot((e=>{0===e.docs.length&&(this.isLoading=!1),e.docChanges().forEach((async e=>{if("added"!==e.type||e.doc.Nd)"added"===e.type&&e.doc.Nd?this.cities.push(e.doc.data()):"removed"===e.type&&(this.cities=this.cities.filter((t=>t.city!==e.doc.data().city)));else try{const i=await n.Z.get(`https://api.openweathermap.org/data/2.5/weather?q=${e.doc.data().city}&units=metric&APPID=${this.APIkey}`),s=i.data;t.doc(e.doc.id).update({currentWeather:s}).then((()=>{this.cities.push(e.doc.data()),this.isLoading=!1}))}catch(i){console.log(i)}}))}))},toggleModal(){this.modalOpen=!this.modalOpen},toggleEdit(){this.edit=!this.edit},checkRoute(){"AddCity"===this.$route.name?this.addCityActive=!0:this.addCityActive=!1},dayTime(){this.isDay=!this.isDay},nightTime(){this.isNight=!this.isNight},resetDays(){this.isDay=!1,this.isNight=!1}},watch:{$route(){this.checkRoute()}}},x=k,D=(0,f.Z)(x,a,r,!1,null,null,null),A=D.exports,$=i(8345),N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"grid-wrapper"},[0===t.cities.length?e("div",{staticClass:"no-cities"},[e("p",[t._v("No cities added, add a new one?")]),e("button",{on:{click:t.addCity}},[t._v("Add City")])]):t.cities.length>5?e("div",[e("p",[t._v("City list is Full")]),e("button",[t._v("Back to city list")])]):t._e(),e("div",{staticClass:"grid"},t._l(t.cities,(function(i,s){return e("div",{key:s,staticClass:"city-link"},[e("City",{attrs:{city:i,edit:t.edit}})],1)})),0)])},P=[],I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"city",on:{click:t.goToWeather}},[t.edit?e("i",{ref:"edit",staticClass:"far fa-trash-alt edit",on:{click:t.removeCity}}):t._e(),e("span",[t._v(t._s(this.city.city))]),e("div",{staticClass:"weather"},[e("span",[t._v(t._s(Math.round(this.city.currentWeather.main.temp))+"°")]),e("img",{attrs:{src:i(5847)(`./${this.city.currentWeather.weather[0].icon}.svg`),alt:""}})])])])},Z=[],L={name:"city",props:["city","edit"],created(){},data(){return{id:null}},methods:{removeCity(){l.collection("cities").where("city","==",`${this.city.city}`).get().then((t=>{t.forEach((t=>{this.id=t.id}))})).then((()=>{l.collection("cities").doc(this.id).delete()}))},goToWeather(t){t.target===this.$refs.edit||this.$router.push({name:"Weather",params:{city:this.city.city}})}}},O=L,T=(0,f.Z)(O,I,Z,!1,null,"9d0b8d76",null),M=T.exports,S={name:"AddCity",props:["cities","edit"],created(){},methods:{addCity(){this.$emit("add-city")}},components:{City:M}},H=S,F=(0,f.Z)(H,N,P,!1,null,"56533d38",null),E=F.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[t.loading?e("div",{staticClass:"loading"},[e("span")]):e("div",{staticClass:"weather",class:{day:t.isDay,night:t.isNight}},[e("div",{staticClass:"weather-wrap"},[e("CurrentWeather",{attrs:{isDay:t.isDay,isNight:t.isNight,currentWeather:t.currentWeather}}),e("HourlyWeather",{attrs:{forecast:t.forecast}}),e("WeeklyForecast",{attrs:{forecast:t.forecast}}),e("AdditionalInfo",{attrs:{currentWeather:t.currentWeather}})],1)])])},R=[],B=function(){var t=this,e=t._self._c;return e("div",{staticClass:"current-weather"},[e("div",{staticClass:"container"},[e("div",{staticClass:"weather-info"},[e("span",{staticClass:"city"},[t._v(t._s(this.currentWeather.name))]),e("span",{staticClass:"current-temperature"},[t._v(t._s(Math.round(this.currentWeather.main.temp))+"°")]),e("div",{staticClass:"high-low-temperatures"},[e("div",{staticClass:"high"},[e("i",{staticClass:"fas fa-chevron-up"}),e("span",[t._v(t._s(Math.round(this.currentWeather.main.temp_max))+"°")])]),e("div",{staticClass:"low"},[e("i",{staticClass:"fas fa-chevron-down"}),e("span",[t._v(t._s(Math.round(this.currentWeather.main.temp_min))+"°")])])]),e("span",{staticClass:"condition"},[t._v(t._s(this.currentWeather.weather[0].description))]),e("span",{staticClass:"feels-like"},[t._v("Feels like "+t._s(Math.round(this.currentWeather.main.feels_like))+"°")])]),e("div",{staticClass:"weather-icon"},[t.isDay?e("img",{attrs:{src:i(9751),alt:""}}):t._e(),t.isNight?e("img",{attrs:{src:i(3862),alt:""}}):t._e()])])])},U=[],q={name:"CurrentWeather",props:["isDay","isNight","currentWeather"]},z=q,J=(0,f.Z)(z,B,U,!1,null,"750ccbad",null),V=J.exports,K=function(){var t=this,e=t._self._c;return e("div",{staticClass:"hourly-weather"},[e("div",{staticClass:"container"},t._l(t.filteredList,(function(t,i){return e("div",{key:i,staticClass:"hourly-temp"},[e("HourlyTemp",{attrs:{time:t}})],1)})),0)])},Q=[],Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"hour"},[e("span",[t._v(t._s(new Date(1e3*this.time.dt).toLocaleString("en-us",{hour:"numeric"})))]),e("span",[e("img",{attrs:{src:i(5847)(`./${this.time.weather[0].icon}.svg`),alt:""}})]),e("span",[t._v(t._s(Math.round(this.time.temp))+"°")])])},G=[],X={name:"HourlyTemp",props:["time"]},tt=X,et=(0,f.Z)(tt,Y,G,!1,null,"35adbebe",null),it=et.exports,st={name:"HourlyWeather",props:["forecast"],components:{HourlyTemp:it},computed:{filteredList(){return this.forecast.hourly.slice(1,25)}}},at=st,rt=(0,f.Z)(at,K,Q,!1,null,"2607f9f2",null),nt=rt.exports,ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"weekly-forecast"},[e("div",{staticClass:"container"},t._l(t.filteredList,(function(t,i){return e("div",{key:i,staticClass:"daily"},[e("DailyForecast",{attrs:{day:t}})],1)})),0)])},ot=[],dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"daily-forecast"},[e("div",[e("span",[t._v(" "+t._s(new Date(1e3*this.day.dt).toLocaleString("en-us",{weekday:"long"})))])]),e("div",{staticClass:"condition"},[e("img",{attrs:{src:i(5847)(`./${this.day.weather[0].icon}.svg`),alt:""}})]),e("div",{staticClass:"weather"},[e("span",{staticClass:"high"},[t._v(t._s(Math.round(this.day.temp.max)))]),e("span",{staticClass:"low"},[t._v(t._s(Math.round(this.day.temp.min)))])])])},lt=[],ut={name:"DailyForecast",props:["day"]},ht=ut,pt=(0,f.Z)(ht,dt,lt,!1,null,"99eb6076",null),vt=pt.exports,ft={name:"WeeklyForecast",props:["forecast"],components:{DailyForecast:vt},computed:{filteredList(){return this.forecast.daily.slice(1,8)}}},gt=ft,yt=(0,f.Z)(gt,ct,ot,!1,null,"4cdd7f20",null),mt=yt.exports,Ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"additional-info container"},[e("div",[e("span",[t._v("Sunrise")]),e("span",[t._v(t._s(new Date(1e3*this.currentWeather.sys.sunrise).toLocaleString("en-us",{timeStyle:"short"})))])]),e("div",[e("span",[t._v("Sunset")]),e("span",[t._v(t._s(new Date(1e3*this.currentWeather.sys.sunset).toLocaleString("en-us",{timeStyle:"short"})))])]),e("div",[e("span",[t._v("Humidity")]),e("span",[t._v(t._s(this.currentWeather.main.humidity)+"%")])]),e("div",[e("span",[t._v("Cloudness")]),e("span",[t._v(t._s(this.currentWeather.clouds.all)+"%")])]),e("div",[e("span",[t._v("Wind")]),e("span",[t._v(t._s(Math.round(this.currentWeather.wind.speed))+"mph")])]),e("div",[e("span",[t._v("Pressure")]),e("span",[t._v(t._s(this.currentWeather.main.pressure)+" hPa")])])])},_t=[],wt={name:"AdditionalInfo",props:["currentWeather"]},Wt=wt,bt=(0,f.Z)(Wt,Ct,_t,!1,null,"99fc3e30",null),kt=bt.exports,xt={name:"Weather",props:["APIkey","isDay","isNight"],components:{CurrentWeather:V,HourlyWeather:nt,WeeklyForecast:mt,AdditionalInfo:kt},data(){return{forecast:null,currentWeather:null,loading:!0,currentTime:null}},created(){this.getWeather()},beforeDestroy(){this.$emit("resetDays")},methods:{getWeather(){l.collection("cities").where("city","==",`${this.$route.params.city}`).get().then((t=>{t.forEach((t=>{this.currentWeather=t.data().currentWeather,n.Z.get(`https://api.openweathermap.org/data/2.5/onecall?lat=${t.data().currentWeather.coord.lat}&lon=${t.data().currentWeather.coord.lon}&exclude=current,minutley,alerts&units=metric&appid=${this.APIkey}`).then((t=>{this.forecast=t.data})).then((()=>{this.loading=!1,this.getCurrentTime()}))}))}))},getCurrentTime(){const t=new Date;this.currentTime=t.getHours();const e=new Date(1e3*this.currentWeather.sys.sunrise).getHours(),i=new Date(1e3*this.currentWeather.sys.sunset).getHours();this.currentTime>e&&this.currentTime<i?this.$emit("is-day"):this.$emit("is-night")}}},Dt=xt,At=(0,f.Z)(Dt,j,R,!1,null,"3b38b955",null),$t=At.exports;s.ZP.use($.ZP);const Nt=[{path:"/",name:"AddCity",component:E},{path:"/weather/:city",name:"Weather",component:$t}],Pt=new $.ZP({mode:"history",base:"/",routes:Nt});var It=Pt;s.ZP.config.productionTip=!1,new s.ZP({router:It,render:t=>t(A)}).$mount("#app")},5847:function(t,e,i){var s={"./01d.svg":9834,"./01n.svg":6229,"./02d.svg":6488,"./02n.svg":3963,"./03d.svg":5783,"./03n.svg":6847,"./04d.svg":6885,"./04n.svg":8207,"./09d.svg":9405,"./09n.svg":7583,"./10d.svg":6367,"./10n.svg":8016,"./11d.svg":6954,"./11n.svg":2605,"./13d.svg":5323,"./13n.svg":9008,"./50d.svg":7735,"./50n.svg":4603,"./clouds-sun-light.svg":4561};function a(t){var e=r(t);return i(e)}function r(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=r,t.exports=a,a.id=5847},9834:function(t,e,i){"use strict";t.exports=i.p+"img/01d.66877bf8.svg"},6229:function(t,e,i){"use strict";t.exports=i.p+"img/01n.712f78c7.svg"},6488:function(t,e,i){"use strict";t.exports=i.p+"img/02d.1c28eaf5.svg"},3963:function(t,e,i){"use strict";t.exports=i.p+"img/02n.f56c8a3c.svg"},5783:function(t,e,i){"use strict";t.exports=i.p+"img/03d.df59e974.svg"},6847:function(t,e,i){"use strict";t.exports=i.p+"img/03n.df59e974.svg"},6885:function(t,e,i){"use strict";t.exports=i.p+"img/04d.df59e974.svg"},8207:function(t,e,i){"use strict";t.exports=i.p+"img/04n.df59e974.svg"},9405:function(t,e,i){"use strict";t.exports=i.p+"img/09d.10cf0b80.svg"},7583:function(t,e,i){"use strict";t.exports=i.p+"img/09n.10cf0b80.svg"},6367:function(t,e,i){"use strict";t.exports=i.p+"img/10d.55ef8c97.svg"},8016:function(t,e,i){"use strict";t.exports=i.p+"img/10n.8d8bce5f.svg"},6954:function(t,e,i){"use strict";t.exports=i.p+"img/11d.0c4f1b5a.svg"},2605:function(t,e,i){"use strict";t.exports=i.p+"img/11n.0c4f1b5a.svg"},5323:function(t,e,i){"use strict";t.exports=i.p+"img/13d.dead3418.svg"},9008:function(t,e,i){"use strict";t.exports=i.p+"img/13n.dead3418.svg"},7735:function(t,e,i){"use strict";t.exports=i.p+"img/50d.b4ae4905.svg"},4603:function(t,e,i){"use strict";t.exports=i.p+"img/50n.b4ae4905.svg"},4561:function(t,e,i){"use strict";t.exports=i.p+"img/clouds-sun-light.e50abd24.svg"},3862:function(t,e,i){"use strict";t.exports=i.p+"img/moon.f70cb346.png"},9751:function(t,e,i){"use strict";t.exports=i.p+"img/sun.978c7302.png"}},e={};function i(s){var a=e[s];if(void 0!==a)return a.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,i),r.exports}i.m=t,function(){var t=[];i.O=function(e,s,a,r){if(!s){var n=1/0;for(l=0;l<t.length;l++){s=t[l][0],a=t[l][1],r=t[l][2];for(var c=!0,o=0;o<s.length;o++)(!1&r||n>=r)&&Object.keys(i.O).every((function(t){return i.O[t](s[o])}))?s.splice(o--,1):(c=!1,r<n&&(n=r));if(c){t.splice(l--,1);var d=a();void 0!==d&&(e=d)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[s,a,r]}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.p="/"}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,r,n=s[0],c=s[1],o=s[2],d=0;if(n.some((function(e){return 0!==t[e]}))){for(a in c)i.o(c,a)&&(i.m[a]=c[a]);if(o)var l=o(i)}for(e&&e(s);d<n.length;d++)r=n[d],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(l)},s=self["webpackChunkweather_app"]=self["webpackChunkweather_app"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(5199)}));s=i.O(s)})();
//# sourceMappingURL=app.b4ff3386.js.map